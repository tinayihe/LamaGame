<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Yipeng and Yihe lama</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <style type="text/css">
            * { margin: 0; padding: 0; }     
 ²  ²     html, body { height: 100%; width: 100%; }     
            canvas { display: block; }  
        </style>
    </head>
    <body id="main">
        <canvas id="plane"></canvas>
  
        <script type="text/javascript">
            //document.getElementById('main').addEventListener('keypress', p);
            //function p(e) {alert(e.which)}
           
            var mode = Math.floor((Math.random() * 2) + 1);        
            var x = 0;
            var y = 0;
            var speed = 5;
            var random = Math.floor((Math.random() * 4) + 1);
            //random for image, 1:up 2:right 3:down 4:left
            var random_image = Math.floor((Math.random() * 4) + 1);
            var imageObj = new Image();
            
            //自动调节尺寸，感觉width好用但是height并没有什么卵用。。。
            var h = document.body.clientHeight;
            var w = document.body.clientWidth;
            var canvas = document.getElementById("plane");
            //remain the right part for score
                canvas.width = 0.9*w;
                
                canvas.height = h;
                //我让他先蹦出来一个她的height是多少。。。
                alert(h);
           
          function initial(){ 
            if (mode == 1){
                //vert: selon movement direction
               document.getElementById("plane").style.background = "#00FF7F";
            }
            else{
                //rouge: selon image direction
                document.getElementById("plane").style.background = "#FF2400";                ;
            }
                                
            switch (random_image) {
                case 1:
                    imageObj.src = "image/lama.jpg";
                    break;
                case 2:
                    imageObj.src = "image/lama2.jpg";
                    break;
                case 3:
                    imageObj.src = "image/lama3.jpg";
                    break;
                case 4:
                    imageObj.src = "image/lama4.jpg";
                    break;
            }
             setInterval(animate(), 1000000);   
        }

            function animate() {

                reqAnimFrame = window.mozRequestAnimationFrame ||
                        window.webkitRequestAnimationFrame ||
                        window.msRequestAnimationFrame ||
                        window.oRequestAnimationFrame
                        ;

                reqAnimFrame(animate);
                random=2;
                switch (random) {
                    case 1:
                        y = (y - speed + 1000) % 1000;
                        break;
                    case 2:
                        x = (x + speed) % 1000;
                        break;
                    case 3:
                        y = (y + speed) % 1000;
                        break;
                    case 4:
                        x = (x - speed + 1000) % 1000;
                        break;
                }

                draw();
            }

            function draw() {
                
                var context = canvas.getContext("2d");
                context.clearRect(0, 0, 1500, 1500);
                context.drawImage(imageObj, x, y, 200, 200);
            }
            
            initial();
        </script>
             <script type="text/javascript">
　　function up(){ alert("up");}
     function down(){alert("down");}
　　function left(){ alert("left");}
     function right(){alert("right");}
　　function jumpPage(){
　　　　if(event.keyCode==81){
　　　　　　left(); return ;
　　　　}
　　　　if(event.keyCode==90){
　　　　　　 up();return ;
　　　　}
　　　　 if(event.keyCode==68){
　　　　　　right();return ;
　　　　}
　　　　if(event.keyCode==83){
　　　　　　down();return ;
　　　　}
　　　　document.onkeydown=jumpPage();
　　}
</script>
    </body>
</html>
